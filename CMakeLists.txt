project(JavaScriptCore)

set(CMAKE_CXX_STANDARD 14)

set(DYLIB_COMPAT_VERSION "1.0.0")
set(DYLIB_CURRENT_VERSION "604.4.7")

add_definitions(
	-DNDEBUG
	-DENABLE_3D_TRANSFORMS
	-DENABLE_APPLE_PAY
	-DENABLE_APPLE_PAY_SESSION_V3
	-DENABLE_ATTACHMENT_ELEMENT
	-DENABLE_AVF_CAPTIONS
	-DENABLE_CACHE_PARTITIONING
	-DENABLE_CANVAS_PATH
	-DENABLE_CHANNEL_MESSAGING
	-DENABLE_CONTENT_FILTERING
	-DENABLE_CSS_BOX_DECORATION_BREAK
	-DENABLE_CSS_COMPOSITING
	-DENABLE_CSS_REGIONS
	-DENABLE_CSS_SCROLL_SNAP
	-DENABLE_CSS_SELECTORS_LEVEL4
	-DENABLE_CSS_TRAILING_WORD
	-DENABLE_CURSOR_VISIBILITY
	-DENABLE_DASHBOARD_SUPPORT
	-DENABLE_DATACUE_VALUE
	-DENABLE_FETCH_API
	-DENABLE_FILTERS_LEVEL_2
	-DENABLE_FTL_JIT
	-DENABLE_FULLSCREEN_API
	-DENABLE_GAMEPAD
	-DENABLE_GEOLOCATION
	-DENABLE_ICONDATABASE
	-DENABLE_INDEXED_DATABASE_IN_WORKERS
	-DENABLE_INDEXED_DATABASE
	-DENABLE_INTERSECTION_OBSERVER
	-DENABLE_INTL
	-DENABLE_KEYBOARD_KEY_ATTRIBUTE
	-DENABLE_KEYBOARD_CODE_ATTRIBUTE
	-DENABLE_LEGACY_CSS_VENDOR_PREFIXES
	-DENABLE_LEGACY_ENCRYPTED_MEDIA
	-DENABLE_LEGACY_VENDOR_PREFIXES
	-DENABLE_MATHML
	-DENABLE_MEDIA_CONTROLS_SCRIPT
	-DENABLE_MEDIA_SOURCE
	-DENABLE_MEDIA_STREAM
	-DENABLE_METER_ELEMENT
	-DENABLE_MOUSE_CURSOR_SCALE
	-DENABLE_NOTIFICATIONS
	-DENABLE_PDFKIT_PLUGIN
	-DENABLE_POINTER_LOCK
	-DENABLE_PUBLIC_SUFFIX_LIST
	-DENABLE_REMOTE_INSPECTOR
	-DENABLE_RESOURCE_USAGE
	-DENABLE_RUBBER_BANDING
	-DENABLE_SERVICE_CONTROLS
	-DENABLE_SPEECH_SYNTHESIS
	-DENABLE_STREAMS_API
	-DENABLE_SUBTLE_CRYPTO
	-DENABLE_SVG_FONTS
	-DENABLE_TELEPHONE_NUMBER_DETECTION
	-DENABLE_TEXT_AUTOSIZING
	-DENABLE_USERSELECT_ALL
	-DENABLE_VARIATION_FONTS
	-DENABLE_VIDEO_PRESENTATION_MODE
	-DENABLE_VIDEO_TRACK
	-DENABLE_VIDEO
	-DENABLE_WEB_AUDIO
	-DENABLE_WEB_RTC
	-DENABLE_WEB_SOCKETS
	-DENABLE_WEB_TIMING
	-DENABLE_WEBGL
	-DENABLE_WEBGPU
	-DENABLE_WIRELESS_PLAYBACK_TARGET
	-DENABLE_XSLT
	-DU_HIDE_DEPRECATED_API
	-DU_DISABLE_RENAMING=1
	-DU_SHOW_CPLUSPLUS_API=0

	-DPRIVATE # For kdebug
)

include_directories(
	${CMAKE_CURRENT_SOURCE_DIR}/API
	${CMAKE_CURRENT_SOURCE_DIR}/ForwardingHeaders
	${CMAKE_CURRENT_SOURCE_DIR}/assembler
	${CMAKE_CURRENT_SOURCE_DIR}/b3
	${CMAKE_CURRENT_SOURCE_DIR}/b3/air
	${CMAKE_CURRENT_SOURCE_DIR}/bindings
	${CMAKE_CURRENT_SOURCE_DIR}/builtins
	${CMAKE_CURRENT_SOURCE_DIR}/bytecode
	${CMAKE_CURRENT_SOURCE_DIR}/bytecompiler
	${CMAKE_CURRENT_SOURCE_DIR}/dfg
	${CMAKE_CURRENT_SOURCE_DIR}/disassembler
	${CMAKE_CURRENT_SOURCE_DIR}/disassembler/udis86
	${CMAKE_CURRENT_SOURCE_DIR}/disassembler/ARM64
	${CMAKE_CURRENT_SOURCE_DIR}/domjit
	${CMAKE_CURRENT_SOURCE_DIR}/ftl
	${CMAKE_CURRENT_SOURCE_DIR}/heap
	${CMAKE_CURRENT_SOURCE_DIR}/debugger
	${CMAKE_CURRENT_SOURCE_DIR}/inspector
	${CMAKE_CURRENT_SOURCE_DIR}/inspector/agents
	${CMAKE_CURRENT_SOURCE_DIR}/inspector/augmentable
	${CMAKE_CURRENT_SOURCE_DIR}/inspector/remote
	${CMAKE_CURRENT_SOURCE_DIR}/interpreter
	${CMAKE_CURRENT_SOURCE_DIR}/jit
	${CMAKE_CURRENT_SOURCE_DIR}/llint
	${CMAKE_CURRENT_SOURCE_DIR}/parser
	${CMAKE_CURRENT_SOURCE_DIR}/profiler
	${CMAKE_CURRENT_SOURCE_DIR}/runtime
	${CMAKE_CURRENT_SOURCE_DIR}/tools
	${CMAKE_CURRENT_SOURCE_DIR}/wasm
	${CMAKE_CURRENT_SOURCE_DIR}/wasm/js
	${CMAKE_CURRENT_SOURCE_DIR}/yarr
	${CMAKE_CURRENT_SOURCE_DIR}/DerrivedSources
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_SOURCE_DIR}/inspector/remote/cocoa
	${CMAKE_CURRENT_BINARY_DIR}
)

# Necessary for WTF headers
add_compile_options(
	-Wno-gcc-compat
	-fmessage-length=0
	-fdiagnostics-show-note-include-stack
	-fmacro-backtrace-limit=0
	-gmodules
	-Wno-trigraphs
	-fno-exceptions
	-fno-rtti
	-fno-sanitize=vptr
	-fpascal-strings
	-O3
	-fno-common
	-fasm-blocks
	-fstrict-aliasing
	-Winvalid-offsetof
	-g
	-fvisibility=hidden
	-fvisibility-inlines-hidden
	-fno-threadsafe-statics
	--system-header-prefix=unicode/
)

set(FILE_ONE "${CMAKE_CURRENT_SOURCE_DIR}/llint/LowLevelInterpreter.asm")
set(FILE_TWO "${CMAKE_CURRENT_SOURCE_DIR}/DerrivedSources/InitBytecodes.asm")
set(FILE_THREE "${CMAKE_CURRENT_SOURCE_DIR}/llint/LowLevelInterpreter64.asm")
set(FILE_FOUR "${CMAKE_CURRENT_SOURCE_DIR}/llint/LowLevelInterpreter32_64.asm")

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/DerrivedSources/LLIntAssembly.h.in
	${CMAKE_CURRENT_BINARY_DIR}/LLIntAssembly.h
)

add_framework(JavaScriptCore
    FAT
    CURRENT_VERSION
    VERSION "A"

    SOURCES
	    disassembler/ARM64/A64DOpcode.cpp
	    assembler/AbstractMacroAssembler.cpp
	    runtime/AbstractModuleRecord.cpp
	    interpreter/AbstractPC.cpp
	    bytecode/AccessCase.cpp
	    bytecode/AccessCaseSnippetParams.cpp
	    bytecode/AdaptiveInferredPropertyValueWatchpointBase.cpp
	    b3/air/AirAllocateRegistersAndStackByLinearScan.cpp
	    b3/air/AirAllocateRegistersByGraphColoring.cpp
	    b3/air/AirAllocateStackByGraphColoring.cpp
	    b3/air/AirArg.cpp
	    b3/air/AirBasicBlock.cpp
	    b3/air/AirBlockInsertionSet.cpp
	    b3/air/AirBreakCriticalEdges.cpp
	    b3/air/AirCCallingConvention.cpp
	    b3/air/AirCCallSpecial.cpp
	    b3/air/AirCode.cpp
	    b3/air/AirCustom.cpp
	    b3/air/AirDisassembler.cpp
	    b3/air/AirEliminateDeadCode.cpp
	    b3/air/AirEmitShuffle.cpp
	    b3/air/AirFixObviousSpills.cpp
	    b3/air/AirFixPartialRegisterStalls.cpp
	    b3/air/AirFixSpillsAfterTerminals.cpp
	    b3/air/AirGenerate.cpp
	    b3/air/AirGenerated.cpp
	    b3/air/AirHandleCalleeSaves.cpp
	    b3/air/AirInsertionSet.cpp
	    b3/air/AirInst.cpp
	    b3/air/AirKind.cpp
	    b3/air/AirLogRegisterPressure.cpp
	    b3/air/AirLowerAfterRegAlloc.cpp
	    b3/air/AirLowerEntrySwitch.cpp
	    b3/air/AirLowerMacros.cpp
	    b3/air/AirLowerStackArgs.cpp
	    b3/air/AirOptimizeBlockOrder.cpp
	    b3/air/AirPadInterference.cpp
	    b3/air/AirPhaseInsertionSet.cpp
	    b3/air/AirPhaseScope.cpp
	    b3/air/AirPrintSpecial.cpp
	    b3/air/AirRegLiveness.cpp
	    b3/air/AirReportUsedRegisters.cpp
	    b3/air/AirSimplifyCFG.cpp
	    b3/air/AirSpecial.cpp
	    b3/air/AirStackAllocation.cpp
	    b3/air/AirStackSlot.cpp
	    b3/air/AirStackSlotKind.cpp
	    b3/air/AirTmp.cpp
	    b3/air/AirTmpWidth.cpp
	    b3/air/AirValidate.cpp
	    heap/AllocatorAttributes.cpp
	    runtime/ArgList.cpp
	    bytecode/ArithProfile.cpp
	    disassembler/ARM64Disassembler.cpp
	    assembler/ARMAssembler.cpp
	    disassembler/ARMv7Disassembler.cpp
	    disassembler/ARMv7/ARMv7DOpcode.cpp
	    bytecode/ArrayAllocationProfile.cpp
	    runtime/ArrayBuffer.cpp
	    runtime/ArrayBufferNeuteringWatchpoint.cpp
	    runtime/ArrayBufferView.cpp
	    runtime/ArrayConstructor.cpp
	    runtime/ArrayConventions.cpp
	    runtime/ArrayIteratorPrototype.cpp
	    bytecode/ArrayProfile.cpp
	    runtime/ArrayPrototype.cpp
	    jit/AssemblyHelpers.cpp
	    runtime/AsyncFunctionConstructor.cpp
	    runtime/AsyncFunctionPrototype.cpp
	    inspector/AsyncStackTrace.cpp
	    runtime/AtomicsObject.cpp
	    b3/B3ArgumentRegValue.cpp
	    b3/B3AtomicValue.cpp
	    b3/B3Bank.cpp
	    b3/B3BasicBlock.cpp
	    b3/B3BlockInsertionSet.cpp
	    b3/B3BreakCriticalEdges.cpp
	    b3/B3CaseCollection.cpp
	    b3/B3CCallValue.cpp
	    b3/B3CheckSpecial.cpp
	    b3/B3CheckValue.cpp
	    b3/B3Common.cpp
	    b3/B3Commutativity.cpp
	    b3/B3Compilation.cpp
	    b3/B3Compile.cpp
	    b3/B3Const32Value.cpp
	    b3/B3Const64Value.cpp
	    b3/B3ConstDoubleValue.cpp
	    b3/B3ConstFloatValue.cpp
	    b3/B3ConstrainedValue.cpp
	    b3/B3DataSection.cpp
	    b3/B3DuplicateTails.cpp
	    b3/B3Effects.cpp
	    b3/B3EliminateCommonSubexpressions.cpp
	    b3/B3FenceValue.cpp
	    b3/B3FixSSA.cpp
	    b3/B3FoldPathConstants.cpp
	    b3/B3FrequencyClass.cpp
	    b3/B3Generate.cpp
	    b3/B3InferSwitches.cpp
	    b3/B3InsertionSet.cpp
	    b3/B3Kind.cpp
	    b3/B3LegalizeMemoryOffsets.cpp
	    b3/B3LowerMacros.cpp
	    b3/B3LowerMacrosAfterOptimizations.cpp
	    b3/B3LowerToAir.cpp
	    b3/B3MathExtras.cpp
	    b3/B3MemoryValue.cpp
	    b3/B3MoveConstants.cpp
	    b3/B3OpaqueByproducts.cpp
	    b3/B3Opcode.cpp
	    b3/B3Origin.cpp
	    b3/B3OriginDump.cpp
	    b3/B3PatchpointSpecial.cpp
	    b3/B3PatchpointValue.cpp
	    b3/B3PhaseScope.cpp
	    b3/B3PhiChildren.cpp
	    b3/B3Procedure.cpp
	    b3/B3PureCSE.cpp
	    b3/B3ReduceDoubleToFloat.cpp
	    b3/B3ReduceStrength.cpp
	    b3/B3SlotBaseValue.cpp
	    b3/B3SSACalculator.cpp
	    b3/B3StackmapGenerationParams.cpp
	    b3/B3StackmapSpecial.cpp
	    b3/B3StackmapValue.cpp
	    b3/B3StackSlot.cpp
	    b3/B3SwitchCase.cpp
	    b3/B3SwitchValue.cpp
	    b3/B3TimingScope.cpp
	    b3/B3Type.cpp
	    b3/B3UpsilonValue.cpp
	    b3/B3UseCounts.cpp
	    b3/B3Validate.cpp
	    b3/B3Value.cpp
	    b3/B3ValueKey.cpp
	    b3/B3ValueRep.cpp
	    b3/B3Variable.cpp
	    b3/B3VariableLiveness.cpp
	    b3/B3VariableValue.cpp
	    b3/B3WasmAddressValue.cpp
	    b3/B3WasmBoundsCheckValue.cpp
	    b3/B3Width.cpp
	    runtime/BasicBlockLocation.cpp
	    jit/BinarySwitch.cpp
	    runtime/BooleanConstructor.cpp
	    runtime/BooleanObject.cpp
	    runtime/BooleanPrototype.cpp
	    builtins/BuiltinExecutableCreator.cpp
	    builtins/BuiltinExecutables.cpp
	    runtime/BundlePath.mm
	    bytecode/BytecodeBasicBlock.cpp
	    bytecode/BytecodeDumper.cpp
	    bytecompiler/BytecodeGenerator.cpp
	    bytecode/BytecodeGeneratorification.cpp
	    bytecode/BytecodeIntrinsicRegistry.cpp
	    bytecode/BytecodeLivenessAnalysis.cpp
	    bytecode/BytecodeRewriter.cpp
	    jit/CachedRecovery.cpp
	    runtime/CallData.cpp
	    bytecode/CallEdge.cpp
	    interpreter/CallFrame.cpp
	    jit/CallFrameShuffleData.cpp
	    jit/CallFrameShuffler.cpp
	    jit/CallFrameShuffler32_64.cpp
	    jit/CallFrameShuffler64.cpp
	    bytecode/CallLinkInfo.cpp
	    bytecode/CallLinkStatus.cpp
	    bytecode/CallMode.cpp
	    bytecode/CallVariant.cpp
	    runtime/CatchScope.cpp
	    jit/CCallHelpers.cpp
	    heap/CellContainer.cpp
	    tools/CellList.cpp
	    runtime/ClassInfo.cpp
	    runtime/ClonedArguments.cpp
	    interpreter/CLoopStack.cpp
	    bytecode/CodeBlock.cpp
	    bytecode/CodeBlockHash.cpp
	    bytecode/CodeBlockJettisoningWatchpoint.cpp
	    heap/CodeBlockSet.cpp
	    runtime/CodeCache.cpp
	    bytecode/CodeOrigin.cpp
	    tools/CodeProfile.cpp
	    tools/CodeProfiling.cpp
	    runtime/CodeSpecializationKind.cpp
	    bytecode/CodeType.cpp
	    heap/CollectionScope.cpp
	    heap/CollectorPhase.cpp
	    runtime/CommonIdentifiers.cpp
	    runtime/CommonSlowPaths.cpp
	    runtime/CommonSlowPathsExceptions.cpp
	    runtime/CompilationResult.cpp
	    runtime/Completion.cpp
	    bytecode/ComplexGetStatus.cpp
	    runtime/ConfigFile.cpp
	    heap/ConservativeRoots.cpp
	    runtime/ConsoleClient.cpp
	    inspector/ConsoleMessage.cpp
	    runtime/ConsoleObject.cpp
	    runtime/ConstantMode.cpp
	    runtime/ConstructData.cpp
	    inspector/ContentSearchUtilities.cpp
	    runtime/ControlFlowProfiler.cpp
	    runtime/CustomGetterSetter.cpp
	    bytecode/DataFormat.cpp
	    runtime/DataView.cpp
	    runtime/DateConstructor.cpp
	    runtime/DateConversion.cpp
	    runtime/DateInstance.cpp
	    runtime/DatePrototype.cpp
	    debugger/Debugger.cpp
	    debugger/DebuggerCallFrame.cpp
	    debugger/DebuggerLocation.cpp
	    debugger/DebuggerParseData.cpp
	    debugger/DebuggerScope.cpp
	    heap/DeferGC.cpp
	    bytecode/DeferredCompilationCallback.cpp
	    bytecode/DeferredSourceDump.cpp
	    heap/DestructionMode.cpp
	    dfg/DFGAbstractHeap.cpp
	    dfg/DFGAbstractValue.cpp
	    dfg/DFGAdaptiveInferredPropertyValueWatchpoint.cpp
	    dfg/DFGAdaptiveStructureWatchpoint.cpp
	    dfg/DFGArgumentsEliminationPhase.cpp
	    dfg/DFGArgumentsUtilities.cpp
	    dfg/DFGArithMode.cpp
	    dfg/DFGArrayMode.cpp
	    dfg/DFGAtTailAbstractState.cpp
	    dfg/DFGAvailability.cpp
	    dfg/DFGAvailabilityMap.cpp
	    dfg/DFGBackwardsPropagationPhase.cpp
	    dfg/DFGBasicBlock.cpp
	    dfg/DFGBlockInsertionSet.cpp
	    dfg/DFGBlockSet.cpp
	    dfg/DFGByteCodeParser.cpp
	    dfg/DFGCapabilities.cpp
	    dfg/DFGCFAPhase.cpp
	    dfg/DFGCFGSimplificationPhase.cpp
	    dfg/DFGCleanUpPhase.cpp
	    dfg/DFGClobberize.cpp
	    dfg/DFGClobberSet.cpp
	    dfg/DFGClobbersExitState.cpp
	    dfg/DFGCombinedLiveness.cpp
	    dfg/DFGCommon.cpp
	    dfg/DFGCommonData.cpp
	    dfg/DFGCompilationKey.cpp
	    dfg/DFGCompilationMode.cpp
	    dfg/DFGConstantFoldingPhase.cpp
	    dfg/DFGConstantHoistingPhase.cpp
	    dfg/DFGCPSRethreadingPhase.cpp
	    dfg/DFGCriticalEdgeBreakingPhase.cpp
	    dfg/DFGCSEPhase.cpp
	    dfg/DFGDCEPhase.cpp
	    dfg/DFGDesiredIdentifiers.cpp
	    dfg/DFGDesiredTransitions.cpp
	    dfg/DFGDesiredWatchpoints.cpp
	    dfg/DFGDesiredWeakReferences.cpp
	    dfg/DFGDisassembler.cpp
	    dfg/DFGDoesGC.cpp
	    dfg/DFGDriver.cpp
	    dfg/DFGEdge.cpp
	    dfg/DFGEpoch.cpp
	    bytecode/DFGExitProfile.cpp
	    dfg/DFGFailedFinalizer.cpp
	    dfg/DFGFinalizer.cpp
	    dfg/DFGFixupPhase.cpp
	    dfg/DFGFlowIndexing.cpp
	    dfg/DFGFlushedAt.cpp
	    dfg/DFGFlushFormat.cpp
	    dfg/DFGFrozenValue.cpp
	    dfg/DFGGraph.cpp
	    dfg/DFGGraphSafepoint.cpp
	    dfg/DFGHeapLocation.cpp
	    dfg/DFGInferredTypeCheck.cpp
	    dfg/DFGInPlaceAbstractState.cpp
	    dfg/DFGInsertionSet.cpp
	    dfg/DFGIntegerCheckCombiningPhase.cpp
	    dfg/DFGIntegerRangeOptimizationPhase.cpp
	    dfg/DFGInvalidationPointInjectionPhase.cpp
	    dfg/DFGJITCode.cpp
	    dfg/DFGJITCompiler.cpp
	    dfg/DFGJITFinalizer.cpp
	    dfg/DFGJumpReplacement.cpp
	    dfg/DFGLazyJSValue.cpp
	    dfg/DFGLazyNode.cpp
	    dfg/DFGLICMPhase.cpp
	    dfg/DFGLiveCatchVariablePreservationPhase.cpp
	    dfg/DFGLivenessAnalysisPhase.cpp
	    dfg/DFGLoopPreHeaderCreationPhase.cpp
	    dfg/DFGMaximalFlushInsertionPhase.cpp
	    dfg/DFGMayExit.cpp
	    dfg/DFGMinifiedGraph.cpp
	    dfg/DFGMinifiedNode.cpp
	    dfg/DFGMovHintRemovalPhase.cpp
	    dfg/DFGMultiGetByOffsetData.cpp
	    dfg/DFGNaturalLoops.cpp
	    dfg/DFGNode.cpp
	    dfg/DFGNodeAbstractValuePair.cpp
	    dfg/DFGNodeFlags.cpp
	    dfg/DFGNodeFlowProjection.cpp
	    dfg/DFGNodeOrigin.cpp
	    dfg/DFGObjectAllocationSinkingPhase.cpp
	    dfg/DFGObjectMaterializationData.cpp
	    dfg/DFGOperations.cpp
	    dfg/DFGOSRAvailabilityAnalysisPhase.cpp
	    dfg/DFGOSREntry.cpp
	    dfg/DFGOSREntrypointCreationPhase.cpp
	    dfg/DFGOSRExit.cpp
	    dfg/DFGOSRExitBase.cpp
	    dfg/DFGOSRExitCompiler.cpp
	    dfg/DFGOSRExitCompiler32_64.cpp
	    dfg/DFGOSRExitCompiler64.cpp
	    dfg/DFGOSRExitCompilerCommon.cpp
	    dfg/DFGOSRExitFuzz.cpp
	    dfg/DFGOSRExitJumpPlaceholder.cpp
	    dfg/DFGOSRExitPreparation.cpp
	    dfg/DFGPhantomInsertionPhase.cpp
	    dfg/DFGPhase.cpp
	    dfg/DFGPhiChildren.cpp
	    dfg/DFGPlan.cpp
	    dfg/DFGPredictionInjectionPhase.cpp
	    dfg/DFGPredictionPropagationPhase.cpp
	    dfg/DFGPrePostNumbering.cpp
	    dfg/DFGPromotedHeapLocation.cpp
	    dfg/DFGPureValue.cpp
	    dfg/DFGPutStackSinkingPhase.cpp
	    dfg/DFGRegisteredStructureSet.cpp
	    dfg/DFGSafepoint.cpp
	    dfg/DFGSnippetParams.cpp
	    dfg/DFGSpeculativeJIT.cpp
	    dfg/DFGSpeculativeJIT32_64.cpp
	    dfg/DFGSpeculativeJIT64.cpp
	    dfg/DFGSSACalculator.cpp
	    dfg/DFGSSAConversionPhase.cpp
	    dfg/DFGSSALoweringPhase.cpp
	    dfg/DFGStackLayoutPhase.cpp
	    dfg/DFGStaticExecutionCountEstimationPhase.cpp
	    dfg/DFGStoreBarrierClusteringPhase.cpp
	    dfg/DFGStoreBarrierInsertionPhase.cpp
	    dfg/DFGStrengthReductionPhase.cpp
	    dfg/DFGStructureAbstractValue.cpp
	    dfg/DFGThreadData.cpp
	    dfg/DFGThunks.cpp
	    dfg/DFGTierUpCheckInjectionPhase.cpp
	    dfg/DFGToFTLDeferredCompilationCallback.cpp
	    dfg/DFGToFTLForOSREntryDeferredCompilationCallback.cpp
	    dfg/DFGTransition.cpp
	    dfg/DFGTypeCheckHoistingPhase.cpp
	    dfg/DFGUnificationPhase.cpp
	    dfg/DFGUseKind.cpp
	    dfg/DFGValidate.cpp
	    dfg/DFGValueSource.cpp
	    dfg/DFGValueStrength.cpp
	    dfg/DFGVarargsForwardingPhase.cpp
	    dfg/DFGVariableAccessData.cpp
	    dfg/DFGVariableAccessDataDump.cpp
	    dfg/DFGVariableEvent.cpp
	    dfg/DFGVariableEventStream.cpp
	    dfg/DFGVirtualRegisterAllocationPhase.cpp
	    dfg/DFGWatchpointCollectionPhase.cpp
	    dfg/DFGWorklist.cpp
	    runtime/DirectArguments.cpp
	    runtime/DirectArgumentsOffset.cpp
	    bytecode/DirectEvalCodeCache.cpp
	    runtime/DirectEvalExecutable.cpp
	    runtime/DisallowVMReentry.cpp
	    disassembler/Disassembler.cpp
	    domjit/DOMJITAbstractHeap.cpp
	    domjit/DOMJITHeapRange.cpp
	    runtime/DumpContext.cpp
	    runtime/ECMAScriptSpecInternalFunctions.cpp
	    heap/EdenGCActivityCallback.cpp
	    runtime/Error.cpp
	    runtime/ErrorConstructor.cpp
	    runtime/ErrorHandlingScope.cpp
	    runtime/ErrorInstance.cpp
	    runtime/ErrorPrototype.cpp
	    bytecode/EvalCodeBlock.cpp
	    runtime/EvalExecutable.cpp
	    inspector/EventLoop.cpp
	    runtime/Exception.cpp
	    runtime/ExceptionEventLocation.cpp
	    runtime/ExceptionFuzz.cpp
	    runtime/ExceptionHelpers.cpp
	    runtime/ExceptionScope.cpp
	    jit/ExecutableAllocationFuzz.cpp
	    jit/ExecutableAllocator.cpp
	    runtime/ExecutableBase.cpp
	    bytecode/ExecutionCounter.cpp
	    bytecode/ExitingJITType.cpp
	    bytecode/ExitKind.cpp
	    heap/FreeList.cpp
	    ftl/FTLAbstractHeap.cpp
	    ftl/FTLAbstractHeapRepository.cpp
	    ftl/FTLAvailableRecovery.cpp
	    ftl/FTLCapabilities.cpp
	    ftl/FTLCommonValues.cpp
	    ftl/FTLCompile.cpp
	    ftl/FTLExceptionTarget.cpp
	    ftl/FTLExitArgument.cpp
	    ftl/FTLExitArgumentForOperand.cpp
	    ftl/FTLExitPropertyValue.cpp
	    ftl/FTLExitTimeObjectMaterialization.cpp
	    ftl/FTLExitValue.cpp
	    ftl/FTLFail.cpp
	    ftl/FTLForOSREntryJITCode.cpp
	    ftl/FTLJITCode.cpp
	    ftl/FTLJITFinalizer.cpp
	    ftl/FTLLazySlowPath.cpp
	    ftl/FTLLink.cpp
	    ftl/FTLLocation.cpp
	    ftl/FTLLowerDFGToB3.cpp
	    ftl/FTLOperations.cpp
	    ftl/FTLOSREntry.cpp
	    ftl/FTLOSRExit.cpp
	    ftl/FTLOSRExitCompiler.cpp
	    ftl/FTLOSRExitHandle.cpp
	    ftl/FTLOutput.cpp
	    ftl/FTLPatchpointExceptionHandle.cpp
	    ftl/FTLRecoveryOpcode.cpp
	    ftl/FTLSaveRestore.cpp
	    ftl/FTLSlowPathCall.cpp
	    ftl/FTLSlowPathCallKey.cpp
	    ftl/FTLSnippetParams.cpp
	    ftl/FTLState.cpp
	    ftl/FTLThunks.cpp
	    ftl/FTLValueRange.cpp
	    bytecode/FullCodeOrigin.cpp
	    heap/FullGCActivityCallback.cpp
	    bytecode/FunctionCodeBlock.cpp
	    runtime/FunctionConstructor.cpp
	    runtime/FunctionExecutable.cpp
	    runtime/FunctionExecutableDump.cpp
	    runtime/FunctionHasExecutedCache.cpp
	    tools/FunctionOverrides.cpp
	    runtime/FunctionPrototype.cpp
	    runtime/FunctionRareData.cpp
	    tools/FunctionWhitelist.cpp
	    heap/GCActivityCallback.cpp
	    jit/GCAwareJITStubRoutine.cpp
	    heap/GCConductor.cpp
	    heap/GCLogging.cpp
	    heap/GCRequest.cpp
	    runtime/GeneratorFunctionConstructor.cpp
	    runtime/GeneratorFunctionPrototype.cpp
	    runtime/GeneratorPrototype.cpp
	    bytecode/GetByIdStatus.cpp
	    bytecode/GetByIdVariant.cpp
	    runtime/GetterSetter.cpp
	    bytecode/GetterSetterAccessCase.cpp
	    jit/GPRInfo.cpp
	    heap/HandleSet.cpp
	    heap/HandleStack.cpp
	    runtime/HashMapImpl.cpp
	    heap/Heap.cpp
	    heap/HeapCell.cpp
	    heap/HeapFinalizerCallback.cpp
	    heap/HeapHelperPool.cpp
	    heap/HeapProfiler.cpp
	    heap/HeapSnapshot.cpp
	    heap/HeapSnapshotBuilder.cpp
	    tools/HeapVerifier.cpp
	    jit/HostCallReturnValue.cpp
	    jit/ICStats.cpp
	    runtime/Identifier.cpp
	    inspector/IdentifiersFactory.cpp
	    heap/IncrementalSweeper.cpp
	    runtime/IndexingType.cpp
	    runtime/IndirectEvalExecutable.cpp
	    runtime/InferredType.cpp
	    runtime/InferredTypeTable.cpp
	    runtime/InferredValue.cpp
	    runtime/InitializeThreading.cpp
	    inspector/InjectedScript.cpp
	    inspector/InjectedScriptBase.cpp
	    inspector/InjectedScriptHost.cpp
	    inspector/InjectedScriptManager.cpp
	    inspector/InjectedScriptModule.cpp
	    bytecode/InlineAccess.cpp
	    bytecode/InlineCallFrame.cpp
	    bytecode/InlineCallFrameSet.cpp
	    inspector/agents/InspectorAgent.cpp
	    inspector/InspectorAgentRegistry.cpp
	    inspector/InspectorBackendDispatcher.cpp
	    DerrivedSources/InspectorBackendDispatchers.cpp
	    inspector/agents/InspectorConsoleAgent.cpp
	    inspector/agents/InspectorDebuggerAgent.cpp
	    DerrivedSources/InspectorFrontendDispatchers.cpp
	    inspector/InspectorFrontendRouter.cpp
	    inspector/agents/InspectorHeapAgent.cpp
	    runtime/InspectorInstrumentationObject.cpp
	    DerrivedSources/InspectorProtocolObjects.cpp
	    inspector/agents/InspectorRuntimeAgent.cpp
	    inspector/agents/InspectorScriptProfilerAgent.cpp
	    inspector/InspectorValues.cpp
	    runtime/InternalFunction.cpp
	    interpreter/Interpreter.cpp
	    runtime/IntlCollator.cpp
	    runtime/IntlCollatorConstructor.cpp
	    runtime/IntlCollatorPrototype.cpp
	    runtime/IntlDateTimeFormat.cpp
	    runtime/IntlDateTimeFormatConstructor.cpp
	    runtime/IntlDateTimeFormatPrototype.cpp
	    runtime/IntlNumberFormat.cpp
	    runtime/IntlNumberFormatConstructor.cpp
	    runtime/IntlNumberFormatPrototype.cpp
	    runtime/IntlObject.cpp
	    runtime/Intrinsic.cpp
	    jit/IntrinsicEmitter.cpp
	    bytecode/IntrinsicGetterAccessCase.cpp
	    runtime/IteratorOperations.cpp
	    runtime/IteratorPrototype.cpp
	    inspector/JavaScriptCallFrame.cpp
	    jit/JIT.cpp
	    jit/JITAddGenerator.cpp
	    jit/JITArithmetic.cpp
	    jit/JITArithmetic32_64.cpp
	    jit/JITBitAndGenerator.cpp
	    jit/JITBitOrGenerator.cpp
	    jit/JITBitXorGenerator.cpp
	    jit/JITCall.cpp
	    jit/JITCall32_64.cpp
	    jit/JITCode.cpp
	    jit/JITDisassembler.cpp
	    jit/JITDivGenerator.cpp
	    jit/JITExceptions.cpp
	    jit/JITInlineCacheGenerator.cpp
	    jit/JITLeftShiftGenerator.cpp
	    jit/JITMulGenerator.cpp
	    jit/JITNegGenerator.cpp
	    jit/JITOpcodes.cpp
	    jit/JITOpcodes32_64.cpp
	    jit/JITOperations.cpp
	    jit/JITPropertyAccess.cpp
	    jit/JITPropertyAccess32_64.cpp
	    jit/JITRightShiftGenerator.cpp
	    jit/JITStubRoutine.cpp
	    heap/JITStubRoutineSet.cpp
	    jit/JITSubGenerator.cpp
	    jit/JITThunks.cpp
	    jit/JITToDFGDeferredCompilationCallback.cpp
	    jit/JITWorklist.cpp
	    runtime/JSAPIValueWrapper.cpp
	    API/JSAPIWrapperObject.mm
	    runtime/JSArray.cpp
	    runtime/JSArrayBuffer.cpp
	    runtime/JSArrayBufferConstructor.cpp
	    runtime/JSArrayBufferPrototype.cpp
	    runtime/JSArrayBufferView.cpp
	    runtime/JSAsyncFunction.cpp
	    API/JSBase.cpp
	    runtime/JSBoundFunction.cpp
	    API/JSCallbackConstructor.cpp
	    API/JSCallbackFunction.cpp
	    API/JSCallbackObject.cpp
	    runtime/JSCallee.cpp
	    DerrivedSources/JSCBuiltins.cpp
	    runtime/JSCell.cpp
	    runtime/JSCJSValue.cpp
	    API/JSClassRef.cpp
	    API/JSContext.mm
	    API/JSContextRef.cpp
	    API/JSCTestRunnerUtils.cpp
	    runtime/JSCustomGetterSetterFunction.cpp
	    runtime/JSDataView.cpp
	    runtime/JSDataViewPrototype.cpp
	    runtime/JSDateMath.cpp
	    runtime/JSDestructibleObjectSubspace.cpp
	    tools/JSDollarVM.cpp
	    tools/JSDollarVMPrototype.cpp
	    runtime/JSEnvironmentRecord.cpp
	    runtime/JSFixedArray.cpp
	    runtime/JSFunction.cpp
	    runtime/JSGeneratorFunction.cpp
	    runtime/JSGlobalLexicalEnvironment.cpp
	    runtime/JSGlobalObject.cpp
	    inspector/agents/JSGlobalObjectConsoleAgent.cpp
	    inspector/JSGlobalObjectConsoleClient.cpp
	    runtime/JSGlobalObjectDebuggable.cpp
	    inspector/agents/JSGlobalObjectDebuggerAgent.cpp
	    runtime/JSGlobalObjectFunctions.cpp
	    inspector/JSGlobalObjectInspectorController.cpp
	    inspector/agents/JSGlobalObjectRuntimeAgent.cpp
	    inspector/JSGlobalObjectScriptDebugServer.cpp
	    API/JSHeapFinalizerPrivate.cpp
	    inspector/JSInjectedScriptHost.cpp
	    inspector/JSInjectedScriptHostPrototype.cpp
	    runtime/JSInternalPromise.cpp
	    runtime/JSInternalPromiseConstructor.cpp
	    runtime/JSInternalPromiseDeferred.cpp
	    runtime/JSInternalPromisePrototype.cpp
	    inspector/JSJavaScriptCallFrame.cpp
	    inspector/JSJavaScriptCallFramePrototype.cpp
	    runtime/JSJob.cpp
	    runtime/JSLexicalEnvironment.cpp
	    runtime/JSLock.cpp
	    API/JSManagedValue.mm
	    runtime/JSMap.cpp
	    runtime/JSMapIterator.cpp
	    API/JSMarkingConstraintPrivate.cpp
	    runtime/JSModuleEnvironment.cpp
	    runtime/JSModuleLoader.cpp
	    runtime/JSModuleNamespaceObject.cpp
	    runtime/JSModuleRecord.cpp
	    runtime/JSNativeStdFunction.cpp
	    runtime/JSObject.cpp
	    API/JSObjectRef.cpp
	    runtime/JSONObject.cpp
	    runtime/JSPromise.cpp
	    runtime/JSPromiseConstructor.cpp
	    runtime/JSPromiseDeferred.cpp
	    runtime/JSPromisePrototype.cpp
	    runtime/JSPropertyNameEnumerator.cpp
	    runtime/JSProxy.cpp
	    API/JSRemoteInspector.cpp
	    runtime/JSRunLoopTimer.cpp
	    runtime/JSScope.cpp
	    runtime/JSScriptFetcher.cpp
	    API/JSScriptRef.cpp
	    runtime/JSSegmentedVariableObject.cpp
	    runtime/JSSegmentedVariableObjectSubspace.cpp
	    runtime/JSSet.cpp
	    runtime/JSSetIterator.cpp
	    runtime/JSSourceCode.cpp
	    runtime/JSString.cpp
	    runtime/JSStringIterator.cpp
	    runtime/JSStringJoiner.cpp
	    API/JSStringRef.cpp
	    API/JSStringRefCF.cpp
	    runtime/JSStringSubspace.cpp
	    runtime/JSSymbolTableObject.cpp
	    runtime/JSTemplateRegistryKey.cpp
	    API/JSTypedArray.cpp
	    runtime/JSTypedArrayConstructors.cpp
	    runtime/JSTypedArrayPrototypes.cpp
	    runtime/JSTypedArrays.cpp
	    runtime/JSTypedArrayViewConstructor.cpp
	    runtime/JSTypedArrayViewPrototype.cpp
	    API/JSValue.mm
	    API/JSValueRef.cpp
	    API/JSVirtualMachine.mm
	    runtime/JSWeakMap.cpp
	    API/JSWeakObjectMapRefPrivate.cpp
	    API/JSWeakPrivate.cpp
	    runtime/JSWeakSet.cpp
	    wasm/JSWebAssembly.cpp
	    wasm/js/JSWebAssemblyCodeBlock.cpp
	    wasm/js/JSWebAssemblyCodeBlockSubspace.cpp
	    wasm/js/JSWebAssemblyCompileError.cpp
	    wasm/js/JSWebAssemblyInstance.cpp
	    wasm/js/JSWebAssemblyLinkError.cpp
	    wasm/js/JSWebAssemblyMemory.cpp
	    wasm/js/JSWebAssemblyModule.cpp
	    wasm/js/JSWebAssemblyRuntimeError.cpp
	    wasm/js/JSWebAssemblyTable.cpp
	    runtime/JSWithScope.cpp
	    API/JSWrapperMap.mm
	    runtime/JSWrapperObject.cpp
	    bytecode/JumpTable.cpp
	    heap/LargeAllocation.cpp
	    runtime/LazyClassStructure.cpp
	    bytecode/LazyOperandValueProfile.cpp
	    parser/Lexer.cpp
	    assembler/LinkBuffer.cpp
	    runtime/LiteralParser.cpp
	    llint/LLIntCLoop.cpp
	    llint/LLIntData.cpp
	    llint/LLIntEntrypoint.cpp
	    llint/LLIntExceptions.cpp
	    bytecode/LLIntPrototypeLoadAdaptiveStructureWatchpoint.cpp
	    llint/LLIntSlowPaths.cpp
	    llint/LLIntThunks.cpp
	    runtime/Lookup.cpp
	    llint/LowLevelInterpreter.cpp
	    heap/MachineStackMarker.cpp
	    assembler/MacroAssembler.cpp
	    assembler/MacroAssemblerARM.cpp
	    assembler/MacroAssemblerARM64.cpp
	    assembler/MacroAssemblerARMv7.cpp
	    assembler/MacroAssemblerCodeRef.cpp
	    assembler/MacroAssemblerPrinter.cpp
	    assembler/MacroAssemblerX86Common.cpp
	    runtime/MapConstructor.cpp
	    runtime/MapIteratorPrototype.cpp
	    runtime/MapPrototype.cpp
	    heap/MarkedAllocator.cpp
	    heap/MarkedBlock.cpp
	    heap/MarkedSpace.cpp
	    heap/MarkingConstraint.cpp
	    heap/MarkingConstraintSet.cpp
	    heap/MarkStack.cpp
	    runtime/MatchResult.cpp
	    runtime/MathCommon.cpp
	    runtime/MathObject.cpp
	    runtime/MemoryStatistics.cpp
	    bytecode/MethodOfGettingAValueProfile.cpp
	    parser/ModuleAnalyzer.cpp
	    runtime/ModuleLoaderPrototype.cpp
	    bytecode/ModuleNamespaceAccessCase.cpp
	    bytecode/ModuleProgramCodeBlock.cpp
	    runtime/ModuleProgramExecutable.cpp
	    heap/MutatorScheduler.cpp
	    heap/MutatorState.cpp
	    runtime/NativeErrorConstructor.cpp
	    runtime/NativeErrorPrototype.cpp
	    runtime/NativeExecutable.cpp
	    runtime/NativeStdFunctionCell.cpp
	    parser/Nodes.cpp
	    parser/NodesAnalyzeModule.cpp
	    bytecompiler/NodesCodegen.cpp
	    runtime/NullGetterFunction.cpp
	    runtime/NullSetterFunction.cpp
	    runtime/NumberConstructor.cpp
	    runtime/NumberObject.cpp
	    runtime/NumberPrototype.cpp
	    API/ObjCCallbackFunction.mm
	    runtime/ObjectConstructor.cpp
	    runtime/ObjectInitializationScope.cpp
	    bytecode/ObjectPropertyCondition.cpp
	    bytecode/ObjectPropertyConditionSet.cpp
	    runtime/ObjectPrototype.cpp
	    API/OpaqueJSString.cpp
	    bytecode/Opcode.cpp
	    runtime/Operations.cpp
	    runtime/Options.cpp
	    parser/Parser.cpp
	    parser/ParserArena.cpp
	    jit/PCToCodeOriginMap.cpp
	    inspector/PerGlobalObjectWrapperWorld.cpp
	    bytecode/PolymorphicAccess.cpp
	    jit/PolymorphicCallStubRoutine.cpp
	    bytecode/PreciseJumpTargets.cpp
	    assembler/Printer.cpp
	    profiler/ProfilerBytecode.cpp
	    profiler/ProfilerBytecodes.cpp
	    profiler/ProfilerBytecodeSequence.cpp
	    profiler/ProfilerCompilation.cpp
	    profiler/ProfilerCompilationKind.cpp
	    profiler/ProfilerCompiledBytecode.cpp
	    profiler/ProfilerDatabase.cpp
	    profiler/ProfilerEvent.cpp
	    profiler/ProfilerJettisonReason.cpp
	    profiler/ProfilerOrigin.cpp
	    profiler/ProfilerOriginStack.cpp
	    profiler/ProfilerOSRExit.cpp
	    profiler/ProfilerOSRExitSite.cpp
	    profiler/ProfilerProfiledBytecodes.cpp
	    profiler/ProfilerUID.cpp
	    bytecode/ProgramCodeBlock.cpp
	    runtime/ProgramExecutable.cpp
	    runtime/PromiseDeferredTimer.cpp
	    bytecode/PropertyCondition.cpp
	    runtime/PropertyDescriptor.cpp
	    runtime/PropertySlot.cpp
	    runtime/PropertyTable.cpp
	    interpreter/ProtoCallFrame.cpp
	    runtime/PrototypeMap.cpp
	    bytecode/ProxyableAccessCase.cpp
	    runtime/ProxyConstructor.cpp
	    runtime/ProxyObject.cpp
	    runtime/ProxyRevoke.cpp
	    bytecode/PutByIdFlags.cpp
	    bytecode/PutByIdStatus.cpp
	    bytecode/PutByIdVariant.cpp
	    bytecode/ReduceWhitespace.cpp
	    runtime/ReflectObject.cpp
	    jit/Reg.cpp
	    runtime/RegExp.cpp
	    runtime/RegExpCache.cpp
	    runtime/RegExpCachedResult.cpp
	    runtime/RegExpConstructor.cpp
	    runtime/RegExpMatchesArray.cpp
	    runtime/RegExpObject.cpp
	    runtime/RegExpPrototype.cpp
	    jit/RegisterAtOffset.cpp
	    jit/RegisterAtOffsetList.cpp
	    jit/RegisterSet.cpp
	    yarr/RegularExpression.cpp
	    inspector/remote/RemoteAutomationTarget.cpp
	    inspector/remote/cocoa/RemoteConnectionToTargetCocoa.mm
	    inspector/remote/RemoteControllableTarget.cpp
	    inspector/remote/RemoteInspectionTarget.cpp
	    inspector/remote/RemoteInspector.cpp
	    inspector/remote/cocoa/RemoteInspectorCocoa.mm
	    inspector/remote/cocoa/RemoteInspectorXPCConnection.mm
	    jit/Repatch.cpp
	    runtime/RuntimeType.cpp
	    runtime/SamplingCounter.cpp
	    runtime/SamplingProfiler.cpp
	    runtime/ScopedArguments.cpp
	    runtime/ScopedArgumentsTable.cpp
	    runtime/ScopeOffset.cpp
	    jit/ScratchRegisterAllocator.cpp
	    inspector/ScriptArguments.cpp
	    inspector/ScriptCallFrame.cpp
	    inspector/ScriptCallStack.cpp
	    inspector/ScriptCallStackFactory.cpp
	    inspector/ScriptDebugServer.cpp
	    runtime/ScriptExecutable.cpp
	    bindings/ScriptFunctionCall.cpp
	    bindings/ScriptObject.cpp
	    bindings/ScriptValue.cpp
	    runtime/SetConstructor.cpp
	    runtime/SetIteratorPrototype.cpp
	    runtime/SetPrototype.cpp
	    jit/SetupVarargsFrame.cpp
	    interpreter/ShadowChicken.cpp
	    tools/SigillCrashAnalyzer.cpp
	    runtime/SimpleTypedArrayController.cpp
	    heap/SlotVisitor.cpp
	    runtime/SmallStrings.cpp
	    parser/SourceProvider.cpp
	    parser/SourceProviderCache.cpp
	    heap/SpaceTimeMutatorScheduler.cpp
	    runtime/SparseArrayValueMap.cpp
	    bytecode/SpecialPointer.cpp
	    bytecode/SpeculatedType.cpp
	    runtime/StackFrame.cpp
	    interpreter/StackVisitor.cpp
	    heap/StochasticSpaceTimeMutatorScheduler.cpp
	    heap/StopIfNecessaryTimer.cpp
	    runtime/StrictEvalActivation.cpp
	    runtime/StringConstructor.cpp
	    runtime/StringIteratorPrototype.cpp
	    runtime/StringObject.cpp
	    runtime/StringPrototype.cpp
	    runtime/StringRecursionChecker.cpp
	    runtime/Structure.cpp
	    runtime/StructureChain.cpp
	    runtime/StructureIDTable.cpp
	    runtime/StructureRareData.cpp
	    bytecode/StructureSet.cpp
	    bytecode/StructureStubClearingWatchpoint.cpp
	    bytecode/StructureStubInfo.cpp
	    heap/Subspace.cpp
	    bytecode/SuperSampler.cpp
	    runtime/Symbol.cpp
	    runtime/SymbolConstructor.cpp
	    runtime/SymbolObject.cpp
	    runtime/SymbolPrototype.cpp
	    runtime/SymbolTable.cpp
	    heap/Synchronousness.cpp
	    heap/SynchronousStopTheWorldMutatorScheduler.cpp
	    jit/TagRegistersMode.cpp
	    runtime/TemplateRegistry.cpp
	    runtime/TemplateRegistryKey.cpp
	    runtime/TemplateRegistryKeyTable.cpp
	    jit/TempRegisterSet.cpp
	    runtime/TestRunnerUtils.cpp
	    runtime/ThrowScope.cpp
	    jit/ThunkGenerators.cpp
	    bytecode/ToThisStatus.cpp
	    bytecode/TrackedReferences.cpp
	    runtime/TypedArrayController.cpp
	    runtime/TypedArrayType.cpp
	    runtime/TypeLocationCache.cpp
	    runtime/TypeofType.cpp
	    runtime/TypeProfiler.cpp
	    runtime/TypeProfilerLog.cpp
	    runtime/TypeSet.cpp
	    disassembler/udis86/udis86.c
	    disassembler/udis86/udis86_decode.c
	    disassembler/udis86/udis86_itab_holder.c
	    disassembler/udis86/udis86_syn-att.c
	    disassembler/udis86/udis86_syn-intel.c
	    disassembler/udis86/udis86_syn.c
	    disassembler/UDis86Disassembler.cpp
	    bytecode/UnlinkedCodeBlock.cpp
	    bytecode/UnlinkedEvalCodeBlock.cpp
	    bytecode/UnlinkedFunctionCodeBlock.cpp
	    bytecode/UnlinkedFunctionExecutable.cpp
	    bytecode/UnlinkedInstructionStream.cpp
	    bytecode/UnlinkedModuleProgramCodeBlock.cpp
	    bytecode/UnlinkedProgramCodeBlock.cpp
	    parser/UnlinkedSourceCode.cpp
	    bytecode/ValueRecovery.cpp
	    parser/VariableEnvironment.cpp
	    bytecode/VariableWriteFireDetail.cpp
	    runtime/VarOffset.cpp
	    bytecode/VirtualRegister.cpp
	    heap/VisitRaceKey.cpp
	    runtime/VM.cpp
	    runtime/VMEntryScope.cpp
	    tools/VMInspector.cpp
	    runtime/VMTraps.cpp
	    wasm/WasmB3IRGenerator.cpp
	    wasm/WasmBBQPlan.cpp
	    wasm/WasmBinding.cpp
	    wasm/WasmCallee.cpp
	    wasm/WasmCallingConvention.cpp
	    wasm/WasmCodeBlock.cpp
	    wasm/WasmContext.cpp
	    wasm/WasmFaultSignalHandler.cpp
	    wasm/WasmFormat.cpp
	    wasm/WasmIndexOrName.cpp
	    wasm/WasmMachineThreads.cpp
	    wasm/WasmMemory.cpp
	    wasm/WasmMemoryInformation.cpp
	    wasm/WasmModule.cpp
	    wasm/WasmModuleInformation.cpp
	    wasm/WasmModuleParser.cpp
	    wasm/WasmNameSectionParser.cpp
	    wasm/WasmOMGPlan.cpp
	    wasm/WasmOpcodeOrigin.cpp
	    wasm/WasmPageCount.cpp
	    wasm/WasmPlan.cpp
	    wasm/WasmSignature.cpp
	    wasm/WasmThunks.cpp
	    wasm/WasmValidate.cpp
	    wasm/WasmWorklist.cpp
	    runtime/Watchdog.cpp
	    bytecode/Watchpoint.cpp
	    heap/Weak.cpp
	    heap/WeakBlock.cpp
	    heap/WeakHandleOwner.cpp
	    runtime/WeakMapConstructor.cpp
	    runtime/WeakMapData.cpp
	    runtime/WeakMapPrototype.cpp
	    heap/WeakSet.cpp
	    runtime/WeakSetConstructor.cpp
	    runtime/WeakSetPrototype.cpp
	    wasm/js/WebAssemblyCompileErrorConstructor.cpp
	    wasm/js/WebAssemblyCompileErrorPrototype.cpp
	    wasm/js/WebAssemblyFunction.cpp
	    wasm/js/WebAssemblyFunctionBase.cpp
	    wasm/js/WebAssemblyInstanceConstructor.cpp
	    wasm/js/WebAssemblyInstancePrototype.cpp
	    wasm/js/WebAssemblyLinkErrorConstructor.cpp
	    wasm/js/WebAssemblyLinkErrorPrototype.cpp
	    wasm/js/WebAssemblyMemoryConstructor.cpp
	    wasm/js/WebAssemblyMemoryPrototype.cpp
	    wasm/js/WebAssemblyModuleConstructor.cpp
	    wasm/js/WebAssemblyModulePrototype.cpp
	    wasm/js/WebAssemblyModuleRecord.cpp
	    wasm/js/WebAssemblyPrototype.cpp
	    wasm/js/WebAssemblyRuntimeErrorConstructor.cpp
	    wasm/js/WebAssemblyRuntimeErrorPrototype.cpp
	    wasm/js/WebAssemblyTableConstructor.cpp
	    wasm/js/WebAssemblyTablePrototype.cpp
	    wasm/js/WebAssemblyToJSCallee.cpp
	    wasm/js/WebAssemblyWrapperFunction.cpp
	    heap/WriteBarrierSupport.cpp
	    disassembler/X86Disassembler.cpp
	    yarr/YarrCanonicalizeUCS2.cpp
	    DerrivedSources/YarrCanonicalizeUnicode.cpp
	    yarr/YarrInterpreter.cpp
	    yarr/YarrJIT.cpp
	    yarr/YarrPattern.cpp
	    yarr/YarrSyntaxChecker.cpp

    DEPENDENCIES
    	WTF
        objc
	CoreServices
	CoreFoundation
        Foundation
	icucore
	z
	Security
	cxx
        system
)

set_property(TARGET JavaScriptCore APPEND_STRING PROPERTY LINK_FLAGS
	" -dead_strip \
	-fobjc-link-runtime \
	-sub_library libobjc \
	-single_module \
	-Wl,-order_file,${CMAKE_CURRENT_SOURCE_DIR}/JavaScriptCore.order \
	-Wl,-Y,3 \
	-Wl,-unexported_symbol -Wl,__ZTISt9bad_alloc \
	-Wl,-unexported_symbol -Wl,__ZTISt9exception \
	-Wl,-unexported_symbol -Wl,__ZTSSt9bad_alloc \
	-Wl,-unexported_symbol -Wl,__ZTSSt9exception \
	-Wl,-unexported_symbol -Wl,__ZdlPvS_ \
	-Wl,-unexported_symbol -Wl,__ZnwmPv \
	-Wl,-unexported_symbol -Wl,__ZNKSt3__18functionIFvvEEclEv \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvvEEC1EOS2_ \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvvEEC2EOS2_ \
	-Wl,-unexported_symbol -Wl,__ZNKSt3__18functionIFvRN3JSC17BytecodeGeneratorEPNS1_10RegisterIDEEEclES3_S5_ \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvRN3JSC17BytecodeGeneratorEPNS1_10RegisterIDEEED1Ev \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvRN3JSC17BytecodeGeneratorEPNS1_10RegisterIDEEED2Ev \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvvEED1Ev \
	-Wl,-unexported_symbol -Wl,__ZNSt3__18functionIFvvEED2Ev \
	-Wl,-unexported_symbol -Wl,__ZTVNSt3__117bad_function_callE \
	-Wl,-all_load \
	-Wl,-undefined,warning -Wl,-flat_namespace"
)

set_source_files_properties(bytecode/CodeBlock.cpp PROPERTIES
	COMPILE_FLAGS -fno-strict-aliasing)

set_source_files_properties(heap/Heap.cpp runtime/ProxyObject.cpp PROPERTIES
	COMPILE_FLAGS -fno-optimize-sibling-calls)
